<!DOCTYPE html>
<html>
<head>
    <title>Test Supabase Connection</title>
</head>
<body>
    <h1>Supabase Connection Test</h1>
    <div id="result"></div>
    <script type="module">
        const SUPABASE_URL = 'https://jftthfniwfarxyisszjh.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdHRoZm5pd2Zhcnh5aXNzempoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDkzMjEsImV4cCI6MjA4MzI4NTMyMX0.gPUAizcb955wy6-c_krSAx00_0VNsZc4J3C0I2tmrnw';
        
        const resultDiv = document.getElementById('result');
        
        console.log('[Test] Supabase URL:', SUPABASE_URL);
        console.log('[Test] Supabase Key:', SUPABASE_KEY.substring(0, 20) + '...');
        
        fetch(`${SUPABASE_URL}/rest/v1/stop_notification_subscriptions?select=id&limit=1`, {
            headers: {
                'apikey': SUPABASE_KEY,
                'Authorization': `Bearer ${SUPABASE_KEY}`
            }
        })
        .then(res => {
            console.log('[Test] Response status:', res.status);
            return res.json();
        })
        .then(data => {
            console.log('[Test] ✅ Connection successful!', data);
            resultDiv.innerHTML = '<p style="color: green;">✅ Supabase Connection OK!</p><pre>' + JSON.stringify(data, null, 2) + '</pre>';
        })
        .catch(err => {
            console.error('[Test] ❌ Connection failed:', err);
            resultDiv.innerHTML = '<p style="color: red;">❌ Connection failed: ' + err.message + '</p>';
        });
    </script>
</body>
</html>

