// ONE-LINER: Copy everything below and paste in browser console (F12)
(async () => { const r = await navigator.serviceWorker.ready, s = await r.pushManager.getSubscription(); if (!s) { console.log('❌ No subscription. Enable notifications first.'); return; } const p = btoa(String.fromCharCode.apply(null, Array.from(new Uint8Array(s.getKey('p256dh'))))), a = btoa(String.fromCharCode.apply(null, Array.from(new Uint8Array(s.getKey('auth'))))), st = localStorage.getItem('stop_notifications'), sn = st ? JSON.parse(st).filter(n => n.enabled && n.push) : []; const res = await fetch('https://jftthfniwfarxyisszjh.supabase.co/rest/v1/stop_notification_subscriptions', { method: 'POST', headers: { 'Authorization': 'Bearer YOUR_SUPABASE_ANON_KEY', 'apikey': 'YOUR_SUPABASE_ANON_KEY', 'Content-Type': 'application/json', 'Prefer': 'return=representation' }, body: JSON.stringify({ endpoint: s.endpoint, p256dh: p, auth: a, stop_notifications: sn, updated_at: new Date().toISOString() }) }); if (res.ok) { const d = await res.json(); console.log('✅ SAVED!', d); alert('✅ Saved! Check terminal for test notification!'); } else { const e = await res.text(); console.error('❌ ERROR:', res.status, e); alert('❌ Error: ' + res.status); } })();

