// ONE-LINER: Copy everything below and paste in browser console (F12)
(async()=>{const r=await navigator.serviceWorker.ready,s=await r.pushManager.getSubscription();if(!s){console.log('❌ No subscription. Enable notifications first.');return;}const p=btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(s.getKey('p256dh'))))),a=btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(s.getKey('auth'))))),st=localStorage.getItem('stop_notifications'),sn=st?JSON.parse(st).filter(n=>n.enabled&&n.push):[];const res=await fetch('https://jftthfniwfarxyisszjh.supabase.co/rest/v1/stop_notification_subscriptions',{method:'POST',headers:{'Authorization':'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdHRoZm5pd2Zhcnh5aXNzempoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDkzMjEsImV4cCI6MjA4MzI4NTMyMX0.gPUAizcb955wy6-c_krSAx00_0VNsZc4J3C0I2tmrnw','apikey':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdHRoZm5pd2Zhcnh5aXNzempoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDkzMjEsImV4cCI6MjA4MzI4NTMyMX0.gPUAizcb955wy6-c_krSAx00_0VNsZc4J3C0I2tmrnw','Content-Type':'application/json','Prefer':'return=representation'},body:JSON.stringify({endpoint:s.endpoint,p256dh:p,auth:a,stop_notifications:sn,updated_at:new Date().toISOString()})});if(res.ok){const d=await res.json();console.log('✅ SAVED!',d);alert('✅ Saved! Check terminal for test notification!');}else{const e=await res.text();console.error('❌ ERROR:',res.status,e);alert('❌ Error: '+res.status);}})();

